{#

This file is part of the Sonata package.

(c) Thomas Rabaix <thomas.rabaix@sonata-project.org>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}
{% extends sonata_block.templates.block_base %}

{% block block %}
    <section>
        <div class="row">
            <div class="span10">
                {% if settings.title %}
                    <h3>{{ settings.title }}</h3>
                {% endif %}
            </div>

            {% sonata_template_box 'This is the recent products block. Feel free to override it.' %}

            <div class="span2" style="text-align: right">
                <a href="{{ url('sonata_catalog_index') }}"> {{ 'view_all_products'|trans({}, 'SonataProductBundle') }}</a>
            </div>
        </div>

        <div class="product-grid">
            {% if products|length > 0 %}
                <ul class="thumbnails">
                    {% for product in products %}

                        {% if sonata_product_has_enabled_variations(product) or not sonata_product_has_variations(product) %}
                            <li class="span3" itemscope itemtype="http://schema.org/Product">
                                {% include 'SonataProductBundle:Catalog:_product_grid.html.twig' %}
                            </li>
                        {% endif %}

                    {% endfor %}
                </ul>
            {% else %}
                <p>{{ 'no_product_found'|trans({}, 'SonataProductBundle') }}</p>
            {% endif %}
        </div>
    </section>
{% endblock %}
