{#

This file is part of the Sonata package.

(c) Thomas Rabaix <thomas.rabaix@sonata-project.org>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}

<h1>{% trans from 'SonataOrderBundle' %}sonata.order.title_order{% endtrans %}</h1>

<div class="row">
    <div class="span6">
        <p>{% trans with {'%orderId%' : order.id} from 'SonataOrderBundle' %}sonata.order.view.order_with_id{% endtrans %}</p>

        <p><a href="{{ url('sonata_invoice_view', {'reference' : order.reference}) }}">{% trans from 'SonataOrderBundle' %}sonata.order.view_invoice{% endtrans %}</a></p>
    </div>
    <div class="span4">
        <p>{% trans from 'SonataOrderBundle' %}sonata.order.view.subtitle_references{% endtrans %}</p>
        <table class="table table-bordered">
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.invoice{% endtrans %}</th>
                <td>{{ order.reference }}</td>
            </tr>
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.reference{% endtrans %}</th>
                <td>{{ order.reference }}</td>
            </tr>
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.date{% endtrans %}</th>
                <td>{{ order.createdAt|date('Y-m-d') }}</td>
            </tr>
        </table>
    </div>
</div>

<!-- Elements -->
<div class="row">
    <div class="span10">
        <p>{% trans from 'SonataOrderBundle' %}sonata.order.view.elements{% endtrans %}</p>
        <table class="table table-bordered">
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.element.id{% endtrans %}</th>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.element.label{% endtrans %}</th>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.element.quantity{% endtrans %}</th>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.total_excl{% endtrans %}</th>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.total_inc{% endtrans %}</th>
            </tr>
            {% for element in order.orderElements %}
                <tr>
                    <td>{{ element.id }}</td>
                    <td>{{ element.designation }}</td>
                    <td>{{ element.quantity }}</td>
                    <td>{{ element.vat|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
                    <td>{{ element.price|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
                </tr>
            {% endfor %}
            <tr>
                <td colspan="3" rowspan="4">&nbsp;</td>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.delivery{% endtrans %}</th>
                <td>{{ order.deliveryCost|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
            </tr>
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.total_excl{% endtrans %}</th>
                <td>{{ order.totalExcl|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
            </tr>
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.total_vat{% endtrans %}</th>
                <td>{{ (order.totalInc - order.totalExcl)|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
            </tr>
            <tr>
                <th>{% trans from 'SonataOrderBundle' %}sonata.order.view.total_inc{% endtrans %}</th>
                <td>{{ order.totalInc|number_format_currency(order.currency.label, {}, {}, order.locale) }}</td>
            </tr>
        </table>
    </div>
</div>
